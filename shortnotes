Docker Basics — Short Notes(for my future reference)
1. What is Docker?

Docker is a containerization platform that packages an application along with its dependencies and runtime environment into containers, enabling consistent execution across different systems.

Docker provides OS-level isolation while sharing the host operating system kernel.

2. Problem Docker Solves

Traditional software deployment suffers from:

Environment mismatches

Dependency conflicts

Inconsistent runtime behavior across systems

Docker solves this by shipping the application + environment together.

3. Docker Architecture (High Level)

Docker CLI: User-facing command-line tool

Docker Engine (dockerd): Background daemon that manages images, containers, networks, and volumes

Docker Registry: Remote storage for Docker images (e.g., Docker Hub)

4. Docker Image
Definition

A Docker image is a read-only, immutable, layered template that contains:

Application code

Dependencies

Runtime

OS user-space files

Metadata (CMD, ENTRYPOINT, ENV)

Images are used to create containers.

Properties

Immutable

Layered

Content-addressable

Shared across containers

Image vs Container
Image	Container
Static	Running
Blueprint	Instance
Read-only	Has writable layer
Stored on disk	Uses CPU & RAM
5. Image Layers

Images are composed of multiple read-only layers

Each layer represents a filesystem change

Layers are shared between images

Only missing layers are downloaded during docker pull

This makes Docker storage-efficient and fast.

6. Writable Layer

Each container gets a thin writable layer on top of image layers.

Purpose

Stores runtime changes:

File creation

File modification

Logs

Temporary files

Important

Writable layer is container-specific

Deleted when container is removed

Not suitable for persistent data (use volumes)

7. Docker Container
Definition

A Docker container is a running instance of a Docker image with:

Its own namespaces

Its own writable layer

Resource limits enforced by cgroups

A container exists as long as its PID 1 process exists.

8. docker run Lifecycle

docker run conceptually performs:

Pull image (if not present)

Create container

Start container

If the main process exits, the container stops.

Example:

docker run httpd echo "Hello"


Container is created

Default CMD is overridden

echo runs as PID 1

Container exits immediately

9. Namespaces
Definition

A namespace is a Linux kernel mechanism that provides isolated views of system resources to processes.

Namespaces isolate what a process sees, not the actual hardware.

Namespaces used by Docker
Namespace	Isolates
PID	Process IDs
Mount	Filesystem hierarchy
Network	Network interfaces, IPs
UTS	Hostname
IPC	Shared memory
User	UID/GID mapping (optional)
10. cgroups (Control Groups)

Docker uses cgroups to limit and control resource usage:

CPU

Memory

Disk I/O

Process count

Containers do not own resources; they are assigned quotas.

11. Isolation Model of Docker

Docker provides:

Process isolation (namespaces)

Filesystem isolation (mount namespace + writable layer)

Network isolation (network namespace)

Resource isolation (cgroups)

Docker does not provide:

Hardware isolation

Kernel isolation

All containers share the host kernel.

12. Docker Registry Resolution

When pulling an image:

Docker checks local image store

If registry is specified, Docker pulls from that registry

If not specified, Docker defaults to Docker Hub (docker.io)

No fallback to other registries if image is not found

13. Key Mental Models

Image = Blueprint

Container = Running process

Namespaces = Isolated views

Writable layer = Runtime changes

Container lifetime = PID 1 lifetime

Docker ≠ Virtual Machine

14. One-Line Summary

Docker provides lightweight, OS-level isolation by combining Linux namespaces and cgroups to run applications in containers created from immutable, layered images.
